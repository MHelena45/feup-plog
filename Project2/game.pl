:-use_module(library(clpfd)).

% board is 9*9

play :-
    Vars = [
        P11, P12, P13, P14, P15, P16, P17, P18, P19, 
        P21, P22, P23, P24, P25, P26, P27, P28, P29, 
        P31, P32, P33, P34, P35, P36, P37, P38, P39, 
        P41, P42, P43, P44, P45, P46, P47, P48, P49, 
        P51, P52, P53, P54, P55, P56, P57, P58, P59, 
        P61, P62, P63, P64, P65, P66, P67, P68, P69, 
        P71, P72, P73, P74, P75, P76, P77, P78, P79, 
        P81, P82, P83, P84, P85, P86, P87, P88, P89, 
        P91, P92, P93, P94, P95, P96, P97, P98, P99
    ],
    domain(Vars, 0, 1),  
    % sum of the row is 2 (1 means black)
    P11 + P12 + P13 + P14 + P15 + P16 + P17 + P18 + P19 #= 2,
    P21 + P22 + P23 + P24 + P25 + P26 + P27 + P28 + P29 #= 2,
    P31 + P32 + P33 + P34 + P35 + P36 + P37 + P38 + P39 #= 2,
    P41 + P42 + P43 + P44 + P45 + P46 + P47 + P48 + P49 #= 2, 
    P51 + P52 + P53 + P54 + P55 + P56 + P57 + P68 + P69 #= 2, 
    P61 + P62 + P63 + P64 + P65 + P66 + P67 + P68 + P69 #= 2, 
    P71 + P72 + P73 + P74 + P75 + P76 + P77 + P78 + P79 #= 2, 
    P81 + P82 + P83 + P84 + P85 + P86 + P87 + P88 + P89 #= 2,
    P91 + P92 + P93 + P94 + P95 + P96 + P97 + P98 + P99 #= 2,

    % sum of the column is 2 (1 means black)
    P11 + P21 + P31 + P41 + P51 + P61 + P71 + P81 + P91 #= 2,    
    P12 + P22 + P32 + P42 + P52 + P62 + P72 + P82 + P92 #= 2, 
    P13 + P23 + P33 + P43 + P53 + P63 + P73 + P83 + P93 #= 2, 
    P14 + P24 + P34 + P44 + P54 + P64 + P74 + P84 + P94 #= 2,    
    P15 + P25 + P35 + P45 + P55 + P65 + P75 + P85 + P95 #= 2, 
    P16 + P26 + P36 + P46 + P56 + P66 + P76 + P86 + P96 #= 2, 
    P17 + P27 + P37 + P47 + P57 + P67 + P77 + P87 + P97 #= 2,    
    P18 + P28 + P38 + P48 + P58 + P68 + P78 + P88 + P98 #= 2, 
    P19 + P29 + P39 + P49 + P59 + P69 + P79 + P89 + P99 #= 2, 

    % black squares can touch each other
    % column 1 and 2
    P11 + P12 + P21 + P22 #= 1,
    P21 + P22 + P31 + P32 #= 1,
    P31 + P32 + P41 + P42 #= 1,
    P41 + P42 + P51 + P52 #= 1,
    P51 + P52 + P61 + P62 #= 1,
    P61 + P62 + P71 + P72 #= 1,
    P71 + P72 + P81 + P82 #= 1,
    P81 + P82 + P91 + P92 #= 1,

    % column 2 and 3
    P12 + P13 + P22 + P23 #= 1,
    P22 + P23 + P32 + P33 #= 1,
    P32 + P33 + P42 + P43 #= 1,
    P42 + P43 + P52 + P53 #= 1,
    P52 + P53 + P62 + P63 #= 1,
    P62 + P63 + P72 + P73 #= 1,
    P72 + P73 + P82 + P83 #= 1,
    P82 + P83 + P92 + P93 #= 1,

    % column 3 and 4
    P14 + P13 + P24 + P23 #= 1,
    P24 + P23 + P34 + P33 #= 1,
    P34 + P33 + P44 + P43 #= 1,
    P44 + P43 + P54 + P53 #= 1,
    P54 + P53 + P64 + P63 #= 1,
    P64 + P63 + P74 + P73 #= 1,
    P74 + P73 + P84 + P83 #= 1,
    P84 + P83 + P94 + P93 #= 1,

    % column 4 and 5
    P14 + P15 + P24 + P25 #= 1,
    P24 + P25 + P34 + P35 #= 1,
    P34 + P35 + P44 + P45 #= 1,
    P44 + P45 + P54 + P55 #= 1,
    P54 + P55 + P64 + P65 #= 1,
    P64 + P65 + P74 + P75 #= 1,
    P74 + P75 + P84 + P85 #= 1,
    P84 + P85 + P94 + P95 #= 1,

    % column 5 and 6
    P15 + P16 + P25 + P26#= 1,
    P25 + P26 + P35 + P36#= 1,
    P35 + P36 + P45 + P46#= 1,
    P45 + P46 + P55 + P56#= 1,
    P55 + P56 + P65 + P66#= 1,
    P65 + P66 + P75 + P76#= 1,
    P75 + P76 + P85 + P86#= 1,
    P85 + P86 + P95 + P96#= 1,

    % column 6 and 7
    P16 + P17 + P26 + P27 #= 1,
    P26 + P27 + P36 + P37 #= 1,
    P36 + P37 + P46 + P47 #= 1,
    P46 + P47 + P56 + P57 #= 1,
    P56 + P57 + P66 + P67 #= 1,
    P66 + P67 + P76 + P77 #= 1,
    P76 + P77 + P86 + P87 #= 1,
    P86 + P87 + P96 + P97 #= 1,

    % column 7 and 8
    P17 + P18 + P27 + P28 #= 1,
    P27 + P28 + P37 + P38 #= 1,
    P37 + P38 + P47 + P48 #= 1,
    P47 + P48 + P57 + P58 #= 1,
    P57 + P58 + P67 + P68 #= 1,
    P67 + P68 + P77 + P78 #= 1,
    P77 + P78 + P87 + P88 #= 1,
    P87 + P88 + P97 + P98 #= 1,

    % column 8 and 9
    P18 + P19 + P28 + P29 #= 1,
    P28 + P29 + P38 + P39 #= 1,
    P38 + P39 + P48 + P49 #= 1,
    P48 + P49 + P58 + P59 #= 1,
    P58 + P59 + P68 + P69 #= 1,
    P68 + P69 + P78 + P79 #= 1,
    P78 + P79 + P88 + P89 #= 1,
    P88 + P89 + P98 + P99 #= 1,

    labeling([],Vars),
    write(Vars).